<tr
  [ngClass]="
    balData.isChecked ? 'selectedRow ' + highlighBalClass : highlighBalClass
  "
>
  <td>
    <div class="inputCheck checkTable">
      <input
        type="checkbox"
        id="RowNumber-{{ RowNumber }}"
        (click)="selectRow(balData.adresseBal, $event)"
        [(ngModel)]="balData.isChecked"
      />

      <label for="RowNumber-{{ RowNumber }}"></label>
    </div>
  </td>
  <td
    class="icone"
    [ngClass]="balData.etatBal == 'inactive' ? 'state-pause' : 'state-ok'"
  ></td>
  <td class="icone" [ngClass]="balData.balRejeu ? 'check' : ''"></td>
  <td class="icone" [ngClass]="balData.typeBal | lowercase">
    {{ balData.typeBal }}
  </td>
  <td
    [innerHTML]="
      balData.adresseBal | highlightSearch: (Highlight ? adresseHighlight : '')
    "
  >
    {{ balData.adresseBal }}
  </td>
  <td>{{ balData.adresseMailAlerte }}</td>
  <td>{{ balData.frontal.nom }}</td>
  <td>{{ balData.seuil }}</td>
  <td>{{ balData.adresseMailAlerte }}</td>
  <td class="with-details">
    <ng-container *ngIf="balData.listeAdressesIPAutorises">
      <div>
        <div
          class="ellipsis interogation-mark"
          *ngIf="isFrontalIPsChangedAndNotEmpty()"
        >
          <span class="icone help"></span>
          <div class="details">
            <div *ngFor="let ip of balData.frontal.listeAdressesIPs">
              {{ ip }}
            </div>
          </div>
        </div>

        <div class="first-ip">
          <span *ngIf="balData.listeAdressesIPAutorises.length > 0">
            {{ balData.listeAdressesIPAutorises[0] }}
          </span>
        </div>
      </div>
      <div>
        <div
          class="ellipsis flex-display"
          *ngIf="balData.listeAdressesIPAutorises.length > 1"
        >
          <span class="rounded-squar">...</span>
          <div class="details">
            <div *ngFor="let ip of balData.listeAdressesIPAutorises | slice: 1">
              {{ ip }}
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </td>
  <td class="event">
    <i
      class="zmdi"
      [ngClass]="showSubRows ? 'zmdi-eye-off displayBlock ' : 'zmdi-eye '"
      (click)="showSubRows = !showSubRows"
    ></i>
    <i
      class="zmdi zmdi-edit"
      [ngClass]="showSubRows ? 'displayBlock ' : ''"
      (click)="updateBal()"
    ></i>
  </td>
</tr>

<tr class="subLine" *ngIf="showSubRows">
  <td>
    <table>
      <tbody>
        <tr>
          <td>
            <strong>{{ 'INBOX_FOLDER' | translate }}</strong>
          </td>
          <td>
            {{ 'MESSAGE_UNREAD' | translate }} :
            {{ balData.dossierInbox?.nbMessagesNonLus }}
          </td>
          <td>
            {{ 'FOLDER_VOLUME' | translate }} :
            {{ balData.dossierInbox?.volumeDossier }}
          </td>
          <td>
            <span>{{ 'DATE_LAST_SUMMARY' | translate }}&nbsp; : &nbsp;</span>
            {{
              balData.dossierInbox?.dateDernierReleve
                | date: 'dd/MM/yyyy à HH:mm'
            }}
          </td>
        </tr>
        <tr>
          <td>
            <strong>{{ 'TAMPON_FOLDER' | translate }}</strong>
          </td>
          <td>
            {{ 'MESSAGE_TAMPON' | translate }} :
            {{ balData.dossierTampon?.nbMessagesTamponnes }}
          </td>
          <td>
            {{ 'FOLDER_VOLUME' | translate }} :
            {{ balData.dossierTampon?.volumeDossier }}
          </td>
          <td>
            <span>{{ 'DATE_TAMPON' | translate }}&nbsp; : &nbsp; </span>
            {{
              balData.dossierTampon?.dateMiseEnTampon
                | date: 'dd/MM/yyyy à HH:mm'
            }}
          </td>
        </tr>
      </tbody>
    </table>
  </td>
</tr>
